# Preferred multi-source mode (comma-separated URLs). Leave empty to use SUBSCRIPTION_URL.
SUBSCRIPTION_URLS=

# Single fallback source (required by render-config checks).
SUBSCRIPTION_URL=https://raw.githubusercontent.com/AvenCores/goida-vpn-configs/refs/heads/main/githubmirror/6.txt

# Images (pin to a specific tag or digest for predictable rollouts).
MIHOMO_IMAGE=docker.io/metacubex/mihomo:latest
DOCKER_CLI_IMAGE=docker.io/docker:27-cli
DOCKER_SOCKET_PROXY_IMAGE=docker.io/tecnativa/docker-socket-proxy:0.3.0
SYNC_WORKER_IMAGE=proxy-server/subscription-sync:local

# LAN listener for client devices.
LAN_BIND_IP=0.0.0.0
PROXY_PORT=7890

# Proxy auth in username:password format.
PROXY_AUTH=proxyuser:change_me

# Local API endpoint for management and health checks.
API_BIND=127.0.0.1:9090
API_SECRET=change_me_controller_secret

# Core behavior.
MIHOMO_LOG_LEVEL=info
HEALTHCHECK_URL=https://www.gstatic.com/generate_204

# Health checks.
HEALTHCHECK_INTERVAL=180
HEALTHCHECK_TIMEOUT=5000

# Country exclusions (ISO2, comma-separated).
EXCLUDE_COUNTRIES=RU

# Proxy-group selection tuning.
URL_TEST_INTERVAL=120
URL_TEST_TOLERANCE=50
FALLBACK_INTERVAL=45

# Sync/sanitize worker settings.
SANITIZE_INTERVAL=300
MIN_VALID_PROXIES=1
SANITIZE_ALLOW_PROTOCOLS=vless,trojan,ss,vmess
SANITIZE_LOG_JSON=true
SANITIZE_VALIDATE_TIMEOUT_SEC=10
SANITIZE_VALIDATE_MAX_ITERATIONS=80
SANITIZE_EXCLUDE_HOST_PATTERNS=boot-lee.ru,openproxylist.com
SANITIZE_DROP_ANONYMOUS_FLAGGED=true
SANITIZE_REQUIRE_TLS_HOST=true
WORKER_INTERRUPT_GRACE_SEC=15

# Throughput ranking profile (YouTube-comfort oriented).
THROUGHPUT_ENABLE=true
THROUGHPUT_TOP_N=10
THROUGHPUT_TEST_URL=https://speed.cloudflare.com/__down?bytes=20000000
THROUGHPUT_TIMEOUT_SEC=18
THROUGHPUT_MIN_KBPS=2200
THROUGHPUT_SAMPLES=5
THROUGHPUT_REQUIRED_SUCCESSES=4
